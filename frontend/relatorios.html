<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EasyClass - Relat√≥rios</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="flex items-center gap-md">
                    <button class="menu-toggle">‚ò∞</button>
                    <div class="logo">EasyClass</div>
                </div>

                <div class="user-menu">
                    <a href="notificacoes.html" class="notifications">
                        <span>üîî</span>
                        <span class="notification-badge">1</span>
                    </a>
                    <a href="perfil.html" class="user-profile-link">üë§ Prof. Jo√£o Silva</a>
                </div>
            </div>
        </div>
    </header>

    <!-- Menu Lateral -->
    <aside class="sidebar">
        <nav>
            <!-- Dashboard Section -->
            <div class="sidebar-section">
                <h3 class="sidebar-section-title">Dashboard</h3>
                <ul class="sidebar-menu">
                    <li><a href="dashboard-professor.html"><span class="sidebar-icon">üè†</span> Vis√£o Geral</a></li>
                </ul>
            </div>

            <!-- Gest√£o Acad√™mica Section -->
            <div class="sidebar-section">
                <h3 class="sidebar-section-title">Gest√£o Acad√™mica</h3>
                <ul class="sidebar-menu">
                    <li><a href="turmas-professor.html"><span class="sidebar-icon">üìö</span> Minhas Turmas</a></li>
                    <li><a href="alunos-professor.html"><span class="sidebar-icon">üë•</span> Alunos</a></li>
                    <li><a href="gerenciar-turmas.html"><span class="sidebar-icon">üë•</span> Gerenciar Turmas</a></li>
                </ul>
            </div>

            <!-- Ensino Section -->
            <div class="sidebar-section">
                <h3 class="sidebar-section-title">Ensino</h3>
                <ul class="sidebar-menu">
                    <li><a href="lancar-notas.html"><span class="sidebar-icon">üìä</span> Lan√ßar Notas</a></li>
                    <li><a href="frequencia-professor.html"><span class="sidebar-icon">üìÖ</span> Frequ√™ncia</a></li>
                    <li><a href="criar-plano-aula.html"><span class="sidebar-icon">üìù</span> Planos de Aula</a></li>
                </ul>
            </div>

            <!-- Relat√≥rios Section -->
            <div class="sidebar-section">
                <h3 class="sidebar-section-title">Relat√≥rios</h3>
                <ul class="sidebar-menu">
                    <li><a href="relatorios.html" class="active"><span class="sidebar-icon">üìä</span> Gerar Relat√≥rios</a></li>
                </ul>
            </div>

            <!-- Configura√ß√µes Section -->
            <div class="sidebar-section">
                <h3 class="sidebar-section-title">Configura√ß√µes</h3>
                <ul class="sidebar-menu">
                    <li><a href="perfil.html"><span class="sidebar-icon">‚öôÔ∏è</span> Perfil</a></li>
                    <li><a href="index.html"><span class="sidebar-icon">üö™</span> Sair</a></li>
                </ul>
            </div>
        </nav>
    </aside>

    <!-- Conte√∫do Principal -->
    <main class="main-content">
        <div class="container">
            <div class="page-header">
                <h1>Relat√≥rios</h1>
                <p>Gere relat√≥rios detalhados de desempenho e frequ√™ncia.</p>
            </div>

            <!-- Filtros -->
            <div class="card filters-form">
                <div class="card-header">
                    <h2 class="card-title">Configurar Relat√≥rio</h2>
                </div>

                <form class="form" onsubmit="gerarRelatorio(event)">
                    <div class="filters-grid">
                        <div class="form-group">
                            <label for="tipo-relatorio" class="form-label">Tipo de Relat√≥rio</label>
                            <select id="tipo-relatorio" class="form-input" onchange="atualizarFiltros()" required>
                                <option value="">Selecione...</option>
                                <option value="individual">Relat√≥rio Individual</option>
                                <option value="turma">Relat√≥rio de Turma</option>
                                <option value="desempenho">Relat√≥rio de Desempenho</option>
                                <option value="frequencia">Relat√≥rio de Frequ√™ncia</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="periodo" class="form-label">Per√≠odo</label>
                            <select id="periodo" class="form-input" required>
                                <option value="1bim">1¬∫ Bimestre</option>
                                <option value="2bim">2¬∫ Bimestre</option>
                                <option value="3bim">3¬∫ Bimestre</option>
                                <option value="4bim">4¬∫ Bimestre</option>
                                <option value="anual">Ano Letivo</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="turma" class="form-label">Turma</label>
                            <select id="turma" class="form-input">
                                <option value="">Todas as turmas</option>
                                <option value="3a">3¬∫ A - Matem√°tica</option>
                                <option value="3b">3¬∫ B - Matem√°tica</option>
                                <option value="2c">2¬∫ C - F√≠sica</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="disciplina" class="form-label">Disciplina</label>
                            <select id="disciplina" class="form-input">
                                <option value="">Todas as disciplinas</option>
                                <option value="matematica">Matem√°tica</option>
                                <option value="portugues">Portugu√™s</option>
                                <option value="fisica">F√≠sica</option>
                                <option value="quimica">Qu√≠mica</option>
                            </select>
                        </div>

                        <div class="form-group" id="aluno-group" style="display: none;">
                            <label for="aluno" class="form-label">Aluno</label>
                            <select id="aluno" class="form-input">
                                <option value="">Selecione um aluno...</option>
                                <option value="ana">Ana Silva</option>
                                <option value="bruno">Bruno Santos</option>
                                <option value="carlos">Carlos Oliveira</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="formato" class="form-label">Formato de Sa√≠da</label>
                            <select id="formato" class="form-input" required>
                                <option value="pdf">PDF (Visualiza√ß√£o)</option>
                                <option value="excel">Excel/CSV (An√°lise)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Op√ß√µes</label>
                            <div style="display: flex; gap: var(--md); align-items: center;">
                                <label style="display: flex; align-items: center; gap: var(--sm);">
                                    <input type="checkbox" id="comparacao-turma">
                                    Compara√ß√£o com turma
                                </label>
                                <label style="display: flex; align-items: center; gap: var(--sm);">
                                    <input type="checkbox" id="ranking">
                                    Incluir ranking
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="salvarConfiguracao()">Salvar Configura√ß√£o</button>
                        <button type="submit" class="btn btn-primary">Gerar Relat√≥rio</button>
                    </div>
                </form>
            </div>

            <!-- Preview do Relat√≥rio -->
            <div class="card report-preview" id="report-preview" style="display: none;">
                <div class="card-header">
                    <h2 class="card-title">Preview do Relat√≥rio</h2>
                </div>

                <div id="report-content">
                    <!-- Conte√∫do ser√° inserido dinamicamente -->
                </div>

                <div class="form-actions" style="margin-top: var(--lg);">
                    <button class="btn btn-secondary" onclick="baixarRelatorio()">üì• Baixar</button>
                    <button class="btn btn-secondary" onclick="imprimirRelatorio()">üñ®Ô∏è Imprimir</button>
                    <button class="btn btn-secondary" onclick="enviarEmail()">üìß Enviar por Email</button>
                </div>
            </div>

            <!-- Relat√≥rios Salvos -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">Relat√≥rios Salvos</h2>
                </div>

                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Nome</th>
                                <th>Tipo</th>
                                <th>Data</th>
                                <th>A√ß√µes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Relat√≥rio Mensal 3¬∫A</td>
                                <td>Relat√≥rio de Turma</td>
                                <td>15/11/2024</td>
                                <td>
                                    <button class="btn btn-sm btn-secondary" onclick="carregarRelatorio('mensal-3a')">Carregar</button>
                                    <button class="btn btn-sm btn-danger" onclick="excluirRelatorio('mensal-3a')">Excluir</button>
                                </td>
                            </tr>
                            <tr>
                                <td>Desempenho Ana Silva</td>
                                <td>Relat√≥rio Individual</td>
                                <td>10/11/2024</td>
                                <td>
                                    <button class="btn btn-sm btn-secondary" onclick="carregarRelatorio('ana-silva')">Carregar</button>
                                    <button class="btn btn-sm btn-danger" onclick="excluirRelatorio('ana-silva')">Excluir</button>
                                </td>
                            </tr>
                            <tr>
                                <td>Frequ√™ncia Geral</td>
                                <td>Relat√≥rio de Frequ√™ncia</td>
                                <td>05/11/2024</td>
                                <td>
                                    <button class="btn btn-sm btn-secondary" onclick="carregarRelatorio('frequencia')">Carregar</button>
                                    <button class="btn btn-sm btn-danger" onclick="excluirRelatorio('frequencia')">Excluir</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </main>

    <!-- Modal Agendamento -->
    <div id="agendamentoModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Agendar Envio Autom√°tico</h3>
                <button class="modal-close" onclick="fecharAgendamentoModal()">&times;</button>
            </div>

            <form style="padding: var(--lg);" onsubmit="agendarRelatorio(event)">
                <div class="form-group">
                    <label for="frequencia" class="form-label">Frequ√™ncia</label>
                    <select id="frequencia" class="form-input" required>
                        <option value="semanal">Semanal</option>
                        <option value="mensal">Mensal</option>
                        <option value="bimestral">Bimestral</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="dia-envio" class="form-label">Dia do Envio</label>
                    <input type="number" id="dia-envio" class="form-input" min="1" max="31" value="1" required>
                </div>

                <div class="form-group">
                    <label for="hora-envio" class="form-label">Hor√°rio</label>
                    <input type="time" id="hora-envio" class="form-input" value="08:00" required>
                </div>

                <div class="form-group">
                    <label for="destinatarios" class="form-label">Destinat√°rios</label>
                    <textarea id="destinatarios" class="form-input" rows="3" placeholder="Emails separados por v√≠rgula" required></textarea>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="fecharAgendamentoModal()">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Agendar</button>
                </div>
            </form>
        </div>
    </div>
</body>
</html>
